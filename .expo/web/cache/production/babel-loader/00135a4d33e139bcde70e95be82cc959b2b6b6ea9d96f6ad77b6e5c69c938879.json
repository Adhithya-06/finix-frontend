{"ast":null,"code":"import{PermissionStatus,Platform}from'expo-modules-core';function convertPermissionStatus(status){switch(status){case'granted':return{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:false,granted:true};case'denied':return{status:PermissionStatus.DENIED,expires:'never',canAskAgain:false,granted:false};default:return{status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false};}}async function resolvePermissionAsync({shouldAsk}){if(!Platform.isDOMAvailable){return convertPermissionStatus('denied');}const{Notification={}}=window;if(typeof Notification.requestPermission!=='undefined'){let status=Notification.permission;if(shouldAsk){status=await new Promise((resolve,reject)=>{let resolved=false;function resolveOnce(status){if(!resolved){resolved=true;resolve(status);}}Notification.requestPermission(resolveOnce)?.then(resolveOnce)?.catch(reject);});}return convertPermissionStatus(status);}else if(typeof navigator!=='undefined'&&navigator?.permissions?.query){const query=await navigator.permissions.query({name:'notifications'});return convertPermissionStatus(query.state);}return convertPermissionStatus('denied');}export default{addListener:()=>{},removeListeners:()=>{},async getPermissionsAsync(){return resolvePermissionAsync({shouldAsk:false});},async requestPermissionsAsync(request){return resolvePermissionAsync({shouldAsk:true});}};","map":{"version":3,"names":["PermissionStatus","Platform","convertPermissionStatus","status","GRANTED","expires","canAskAgain","granted","DENIED","UNDETERMINED","resolvePermissionAsync","shouldAsk","isDOMAvailable","Notification","window","requestPermission","permission","Promise","resolve","reject","resolved","resolveOnce","then","catch","navigator","permissions","query","name","state","addListener","removeListeners","getPermissionsAsync","requestPermissionsAsync","request"],"sources":["/Users/adhithyasobhanan/MY FINIX-APP/FRONTEND/node_modules/expo-notifications/src/NotificationPermissionsModule.ts"],"sourcesContent":["import { PermissionStatus, Platform } from 'expo-modules-core';\n\nimport {\n  NativeNotificationPermissionsRequest,\n  NotificationPermissionsStatus,\n} from './NotificationPermissions.types';\nimport { NotificationPermissionsModule } from './NotificationPermissionsModule.types';\n\nfunction convertPermissionStatus(\n  status?: NotificationPermission | 'prompt'\n): NotificationPermissionsStatus {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true,\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false,\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n  }\n}\n\nasync function resolvePermissionAsync({\n  shouldAsk,\n}: {\n  shouldAsk: boolean;\n}): Promise<NotificationPermissionsStatus> {\n  if (!Platform.isDOMAvailable) {\n    return convertPermissionStatus('denied');\n  }\n\n  const { Notification = {} } = window as any;\n  if (typeof Notification.requestPermission !== 'undefined') {\n    let status = Notification.permission;\n    if (shouldAsk) {\n      status = await new Promise((resolve, reject) => {\n        let resolved = false;\n        function resolveOnce(status: string) {\n          if (!resolved) {\n            resolved = true;\n            resolve(status);\n          }\n        }\n        // Some browsers require a callback argument and some return a Promise\n        Notification.requestPermission(resolveOnce)?.then(resolveOnce)?.catch(reject);\n      });\n    }\n    return convertPermissionStatus(status);\n  } else if (typeof navigator !== 'undefined' && navigator?.permissions?.query) {\n    // TODO(Bacon): Support `push` in the future when it's stable.\n    const query = await navigator.permissions.query({ name: 'notifications' });\n    return convertPermissionStatus(query.state);\n  }\n  // Platforms like iOS Safari don't support Notifications so return denied.\n  return convertPermissionStatus('denied');\n}\n\nexport default {\n  addListener: () => {},\n  removeListeners: () => {},\n  async getPermissionsAsync(): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: false });\n  },\n  async requestPermissionsAsync(\n    request: NativeNotificationPermissionsRequest\n  ): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: true });\n  },\n} as NotificationPermissionsModule;\n"],"mappings":"AAAA,OAASA,gBAAgB,CAAEC,QAAQ,KAAQ,mBAAmB,CAQ9D,QAAS,CAAAC,uBAAuBA,CAC9BC,MAA0C,EAE1C,OAAQA,MAAM,EACZ,IAAK,SAAS,CACZ,MAAO,CACLA,MAAM,CAAEH,gBAAgB,CAACI,OAAO,CAChCC,OAAO,CAAE,OAAO,CAChBC,WAAW,CAAE,KAAK,CAClBC,OAAO,CAAE,I,CACV,CACH,IAAK,QAAQ,CACX,MAAO,CACLJ,MAAM,CAAEH,gBAAgB,CAACQ,MAAM,CAC/BH,OAAO,CAAE,OAAO,CAChBC,WAAW,CAAE,KAAK,CAClBC,OAAO,CAAE,K,CACV,CACH,QACE,MAAO,CACLJ,MAAM,CAAEH,gBAAgB,CAACS,YAAY,CACrCJ,OAAO,CAAE,OAAO,CAChBC,WAAW,CAAE,IAAI,CACjBC,OAAO,CAAE,K,CACV,C,CAEP,CAEA,cAAe,CAAAG,sBAAsBA,CAAC,CACpCC,SAAS,CAGV,EACC,GAAI,CAACV,QAAQ,CAACW,cAAc,CAAE,CAC5B,MAAO,CAAAV,uBAAuB,CAAC,QAAQ,CAAC,C,CAG1C,KAAM,CAAEW,YAAY,CAAG,EAAE,CAAE,CAAGC,MAAa,CAC3C,GAAI,MAAO,CAAAD,YAAY,CAACE,iBAAiB,GAAK,WAAW,CAAE,CACzD,GAAI,CAAAZ,MAAM,CAAGU,YAAY,CAACG,UAAU,CACpC,GAAIL,SAAS,CAAE,CACbR,MAAM,CAAG,KAAM,IAAI,CAAAc,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAI,CAC7C,GAAI,CAAAC,QAAQ,CAAG,KAAK,CACpB,QAAS,CAAAC,WAAWA,CAAClB,MAAc,EACjC,GAAI,CAACiB,QAAQ,CAAE,CACbA,QAAQ,CAAG,IAAI,CACfF,OAAO,CAACf,MAAM,CAAC,C,CAEnB,CAEAU,YAAY,CAACE,iBAAiB,CAACM,WAAW,CAAC,EAAEC,IAAI,CAACD,WAAW,CAAC,EAAEE,KAAK,CAACJ,MAAM,CAAC,CAC/E,CAAC,CAAC,C,CAEJ,MAAO,CAAAjB,uBAAuB,CAACC,MAAM,CAAC,C,CACvC,IAAM,IAAI,MAAO,CAAAqB,SAAS,GAAK,WAAW,EAAIA,SAAS,EAAEC,WAAW,EAAEC,KAAK,CAAE,CAE5E,KAAM,CAAAA,KAAK,CAAG,KAAM,CAAAF,SAAS,CAACC,WAAW,CAACC,KAAK,CAAC,CAAEC,IAAI,CAAE,eAAe,CAAE,CAAC,CAC1E,MAAO,CAAAzB,uBAAuB,CAACwB,KAAK,CAACE,KAAK,CAAC,C,CAG7C,MAAO,CAAA1B,uBAAuB,CAAC,QAAQ,CAAC,CAC1C,CAEA,cAAe,CACb2B,WAAW,CAAEA,CAAA,GAAK,CAAE,CAAC,CACrBC,eAAe,CAAEA,CAAA,GAAK,CAAE,CAAC,CACzB,KAAM,CAAAC,mBAAmBA,CAAA,EACvB,MAAO,CAAArB,sBAAsB,CAAC,CAAEC,SAAS,CAAE,KAAK,CAAE,CAAC,CACrD,CAAC,CACD,KAAM,CAAAqB,uBAAuBA,CAC3BC,OAA6C,EAE7C,MAAO,CAAAvB,sBAAsB,CAAC,CAAEC,SAAS,CAAE,IAAI,CAAE,CAAC,CACpD,C,CACgC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}