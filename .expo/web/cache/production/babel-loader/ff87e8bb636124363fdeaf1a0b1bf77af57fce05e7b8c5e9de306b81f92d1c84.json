{"ast":null,"code":"import React from'react';import{useLogger}from'./contexts';import{useTimeout}from'./hooks';import{noop}from'./utils/func';import{mergeIfDefined}from'./utils/obj';export const DEFAULT_DATA={text1:undefined,text2:undefined};export const DEFAULT_OPTIONS={type:'success',text1Style:null,text2Style:null,position:'top',autoHide:true,swipeable:true,visibilityTime:4000,topOffset:40,bottomOffset:40,keyboardOffset:10,onShow:noop,onHide:noop,onPress:noop,props:{}};export function useToast({defaultOptions}){const{log}=useLogger();const[isVisible,setIsVisible]=React.useState(false);const[data,setData]=React.useState(DEFAULT_DATA);const initialOptions=mergeIfDefined(DEFAULT_OPTIONS,defaultOptions);const[options,setOptions]=React.useState(initialOptions);const onAutoHide=React.useCallback(()=>{log('Auto hiding');setIsVisible(false);options.onHide();},[log,options]);const{startTimer,clearTimer}=useTimeout(onAutoHide,options.visibilityTime);const hide=React.useCallback(()=>{log('Hiding');setIsVisible(false);clearTimer();options.onHide();},[clearTimer,log,options]);const show=React.useCallback(params=>{log(`Showing with params: ${JSON.stringify(params)}`);const{text1=DEFAULT_DATA.text1,text2=DEFAULT_DATA.text2,type=initialOptions.type,text1Style=initialOptions.text1Style,text2Style=initialOptions.text2Style,position=initialOptions.position,autoHide=initialOptions.autoHide,visibilityTime=initialOptions.visibilityTime,topOffset=initialOptions.topOffset,bottomOffset=initialOptions.bottomOffset,keyboardOffset=initialOptions.keyboardOffset,onShow=initialOptions.onShow,onHide=initialOptions.onHide,onPress=initialOptions.onPress,swipeable=initialOptions.swipeable,props=initialOptions.props}=params;setData({text1,text2});setOptions(mergeIfDefined(initialOptions,{type,text1Style,text2Style,position,autoHide,visibilityTime,topOffset,bottomOffset,keyboardOffset,onShow,onHide,onPress,swipeable,props}));setIsVisible(true);onShow();},[initialOptions,log]);React.useEffect(()=>{const{autoHide}=options;if(isVisible){if(autoHide){startTimer();}else{clearTimer();}}},[isVisible,options,startTimer,clearTimer]);return{isVisible,data,options,show,hide};}","map":{"version":3,"names":["React","useLogger","useTimeout","noop","mergeIfDefined","DEFAULT_DATA","text1","undefined","text2","DEFAULT_OPTIONS","type","text1Style","text2Style","position","autoHide","swipeable","visibilityTime","topOffset","bottomOffset","keyboardOffset","onShow","onHide","onPress","props","useToast","defaultOptions","log","isVisible","setIsVisible","useState","data","setData","initialOptions","options","setOptions","onAutoHide","useCallback","startTimer","clearTimer","hide","show","params","JSON","stringify","useEffect"],"sources":["/Users/adhithyasobhanan/MY FINIX-APP/FRONTEND/node_modules/react-native-toast-message/lib/src/useToast.js"],"sourcesContent":["import React from 'react';\nimport { useLogger } from './contexts';\nimport { useTimeout } from './hooks';\nimport { noop } from './utils/func';\nimport { mergeIfDefined } from './utils/obj';\nexport const DEFAULT_DATA = {\n    text1: undefined,\n    text2: undefined\n};\nexport const DEFAULT_OPTIONS = {\n    type: 'success',\n    text1Style: null,\n    text2Style: null,\n    position: 'top',\n    autoHide: true,\n    swipeable: true,\n    visibilityTime: 4000,\n    topOffset: 40,\n    bottomOffset: 40,\n    keyboardOffset: 10,\n    onShow: noop,\n    onHide: noop,\n    onPress: noop,\n    props: {}\n};\nexport function useToast({ defaultOptions }) {\n    const { log } = useLogger();\n    const [isVisible, setIsVisible] = React.useState(false);\n    const [data, setData] = React.useState(DEFAULT_DATA);\n    const initialOptions = mergeIfDefined(DEFAULT_OPTIONS, defaultOptions);\n    const [options, setOptions] = React.useState(initialOptions);\n    const onAutoHide = React.useCallback(() => {\n        log('Auto hiding');\n        setIsVisible(false);\n        options.onHide();\n    }, [log, options]);\n    const { startTimer, clearTimer } = useTimeout(onAutoHide, options.visibilityTime);\n    const hide = React.useCallback(() => {\n        log('Hiding');\n        setIsVisible(false);\n        clearTimer();\n        options.onHide();\n    }, [clearTimer, log, options]);\n    const show = React.useCallback((params) => {\n        log(`Showing with params: ${JSON.stringify(params)}`);\n        const { text1 = DEFAULT_DATA.text1, text2 = DEFAULT_DATA.text2, type = initialOptions.type, text1Style = initialOptions.text1Style, text2Style = initialOptions.text2Style, position = initialOptions.position, autoHide = initialOptions.autoHide, visibilityTime = initialOptions.visibilityTime, topOffset = initialOptions.topOffset, bottomOffset = initialOptions.bottomOffset, keyboardOffset = initialOptions.keyboardOffset, onShow = initialOptions.onShow, onHide = initialOptions.onHide, onPress = initialOptions.onPress, swipeable = initialOptions.swipeable, props = initialOptions.props } = params;\n        setData({\n            text1,\n            text2\n        });\n        setOptions(mergeIfDefined(initialOptions, {\n            type,\n            text1Style,\n            text2Style,\n            position,\n            autoHide,\n            visibilityTime,\n            topOffset,\n            bottomOffset,\n            keyboardOffset,\n            onShow,\n            onHide,\n            onPress,\n            swipeable,\n            props\n        }));\n        // TODO: validate input\n        // TODO: use a queue when Toast is already visible\n        setIsVisible(true);\n        onShow();\n    }, [initialOptions, log]);\n    React.useEffect(() => {\n        const { autoHide } = options;\n        if (isVisible) {\n            if (autoHide) {\n                startTimer();\n            }\n            else {\n                clearTimer();\n            }\n        }\n    }, [isVisible, options, startTimer, clearTimer]);\n    return {\n        isVisible,\n        data,\n        options,\n        show,\n        hide\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}