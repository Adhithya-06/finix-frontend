{"ast":null,"code":"import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{createDrawerNavigator}from'@react-navigation/drawer';import{NavigationContainer}from'@react-navigation/native';import{Ionicons}from'@expo/vector-icons';import{auth}from'./firebaseConfig';import{onAuthStateChanged,signOut}from'firebase/auth';import{TransactionProvider}from'./context/TransactionContext';import{ThemeProvider}from\"./context/ThemeContext\";import DashboardScreen from'./screens/DashboardScreen';import TransactionsScreen from'./screens/TransactionsScreen';import InsightsScreen from'./screens/InsightsScreen';import SmartBudgetingScreen from'./screens/SmartBudgetingScreen';import ExportsSettingsScreen from'./screens/ExportsSettingsScreen';import AuthScreen from'./screens/AuthScreen';import Toast from'react-native-toast-message';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Drawer=createDrawerNavigator();const App=()=>{const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,authenticatedUser=>{setTimeout(()=>{setLoading(false);setUser(authenticatedUser);},2000);});return()=>unsubscribe();},[]);const handleSignOut=()=>{signOut(auth).catch(error=>alert(error.message));};if(loading){return _jsxs(View,{style:styles.splashContainer,children:[_jsx(Image,{source:require('./assets/finix-logo.png'),style:styles.splashImage}),_jsx(ActivityIndicator,{size:\"large\",color:\"white\",style:{marginTop:20}})]});}return(_jsxs(ThemeProvider,{children:[_jsx(TransactionProvider,{children:_jsx(NavigationContainer,{children:user?_jsxs(Drawer.Navigator,{screenOptions:({route})=>({drawerIcon:({color,size})=>{let iconName;if(route.name==='Dashboard'){iconName='home';}else if(route.name==='Transactions'){iconName='receipt';}else if(route.name==='Insights'){iconName='bar-chart';}else if(route.name==='Smart Budgeting'){iconName='wallet';}else if(route.name==='Exports & Settings'){iconName='settings';}else if(route.name==='Sign Out'){iconName='log-out';}return _jsx(Ionicons,{name:iconName,size:size,color:color});},drawerActiveTintColor:'tomato',drawerInactiveTintColor:'black',drawerStyle:{backgroundColor:'pink'},sceneContainerStyle:{backgroundColor:'pink'},headerRight:()=>_jsx(TouchableOpacity,{onPress:handleSignOut,style:styles.logoutButton,children:_jsx(Ionicons,{name:\"log-out\",size:24,color:\"black\"})})}),children:[_jsx(Drawer.Screen,{name:\"Dashboard\",component:DashboardScreen}),_jsx(Drawer.Screen,{name:\"Transactions\",component:TransactionsScreen}),_jsx(Drawer.Screen,{name:\"Insights\",component:InsightsScreen}),_jsx(Drawer.Screen,{name:\"Smart Budgeting\",component:SmartBudgetingScreen}),_jsx(Drawer.Screen,{name:\"Exports & Settings\",component:ExportsSettingsScreen}),_jsx(Drawer.Screen,{name:\"Sign Out\",component:()=>_jsxs(View,{style:styles.signOutContainer,children:[_jsx(Text,{style:{fontSize:18,fontWeight:'bold'},children:\"Are you sure you want to sign out?\"}),_jsx(TouchableOpacity,{onPress:handleSignOut,style:styles.signOutButton,children:_jsx(Text,{style:{color:'white',fontWeight:'bold'},children:\"Sign Out\"})})]}),options:{drawerLabel:'Sign Out'}})]}):_jsx(AuthScreen,{})})}),_jsx(Toast,{})]}));};const styles=StyleSheet.create({splashContainer:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#000'},splashImage:{width:'100%',height:'100%',resizeMode:'cover',position:'absolute'},logoutButton:{marginRight:15},signOutContainer:{flex:1,justifyContent:'center',alignItems:'center'},signOutButton:{marginTop:20,backgroundColor:'red',padding:10,borderRadius:5}});export default App;","map":{"version":3,"names":["React","useState","useEffect","View","ActivityIndicator","Image","TouchableOpacity","Text","StyleSheet","createDrawerNavigator","NavigationContainer","Ionicons","auth","onAuthStateChanged","signOut","TransactionProvider","ThemeProvider","DashboardScreen","TransactionsScreen","InsightsScreen","SmartBudgetingScreen","ExportsSettingsScreen","AuthScreen","Toast","jsx","_jsx","jsxs","_jsxs","Drawer","App","user","setUser","loading","setLoading","unsubscribe","authenticatedUser","setTimeout","handleSignOut","catch","error","alert","message","style","styles","splashContainer","children","source","require","splashImage","size","color","marginTop","Navigator","screenOptions","route","drawerIcon","iconName","name","drawerActiveTintColor","drawerInactiveTintColor","drawerStyle","backgroundColor","sceneContainerStyle","headerRight","onPress","logoutButton","Screen","component","signOutContainer","fontSize","fontWeight","signOutButton","options","drawerLabel","create","flex","justifyContent","alignItems","width","height","resizeMode","position","marginRight","padding","borderRadius"],"sources":["/Users/adhithyasobhanan/MY FINIX-APP/FRONTEND/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity, Text, StyleSheet } from 'react-native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { auth } from './firebaseConfig';\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\n\n//  Import TransactionProvider from TransactionContext\nimport { TransactionProvider } from './context/TransactionContext';\nimport { ThemeProvider } from \"./context/ThemeContext\"; \n// Import Screens\nimport DashboardScreen from './screens/DashboardScreen';\nimport TransactionsScreen from './screens/TransactionsScreen';\nimport InsightsScreen from './screens/InsightsScreen';\nimport SmartBudgetingScreen from './screens/SmartBudgetingScreen';\nimport ExportsSettingsScreen from './screens/ExportsSettingsScreen';\nimport AuthScreen from './screens/AuthScreen'; // Login & Signup Screen\nimport Toast from 'react-native-toast-message';\n\n// Create Drawer Navigator\nconst Drawer = createDrawerNavigator();\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (authenticatedUser) => {\n      setTimeout(() => {\n        setLoading(false); //  Hide Splash Screen\n        setUser(authenticatedUser); //  Set user state\n      }, 2000); //  Show splash for 2 seconds\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleSignOut = () => {\n    signOut(auth).catch((error) => alert(error.message));\n  };\n\n  //  **Splash Screen**\n  if (loading) {\n    return (\n      <View style={styles.splashContainer}>\n        <Image source={require('./assets/finix-logo.png')} style={styles.splashImage} />\n        <ActivityIndicator size=\"large\" color=\"white\" style={{ marginTop: 20 }} />\n      </View>\n    );\n  }\n\n  return (\n    //  Wrap the whole app with TransactionProvider\n    <ThemeProvider>\n    <TransactionProvider>\n      <NavigationContainer>\n        {user ? (\n          <Drawer.Navigator\n            screenOptions={({ route }) => ({\n              drawerIcon: ({ color, size }) => {\n                let iconName;\n                if (route.name === 'Dashboard') {\n                  iconName = 'home';\n                } else if (route.name === 'Transactions') {\n                  iconName = 'receipt';\n                } else if (route.name === 'Insights') {\n                  iconName = 'bar-chart';\n                } else if (route.name === 'Smart Budgeting') { \n                  iconName = 'wallet';\n                } else if (route.name === 'Exports & Settings') { \n                  iconName = 'settings';   // âœ… Newly Added Icon   \n                } else if (route.name === 'Sign Out') {\n                  iconName = 'log-out';\n                }\n                return <Ionicons name={iconName} size={size} color={color} />;\n              },\n              drawerActiveTintColor: 'tomato',\n              drawerInactiveTintColor: 'black',\n              drawerStyle: { backgroundColor: 'pink' },\n              sceneContainerStyle: { backgroundColor: 'pink' },\n              headerRight: () => (\n                <TouchableOpacity onPress={handleSignOut} style={styles.logoutButton}>\n                  <Ionicons name=\"log-out\" size={24} color=\"black\" />\n                </TouchableOpacity>\n              ),\n            })}\n          >\n            <Drawer.Screen name=\"Dashboard\" component={DashboardScreen} />\n            <Drawer.Screen name=\"Transactions\" component={TransactionsScreen} />\n            <Drawer.Screen name=\"Insights\" component={InsightsScreen} />\n            <Drawer.Screen name=\"Smart Budgeting\" component={SmartBudgetingScreen} />\n            <Drawer.Screen name=\"Exports & Settings\" component={ExportsSettingsScreen} /> \n            {/*  Sign Out Button in Hamburger Menu */}\n            <Drawer.Screen\n              name=\"Sign Out\"\n              component={() => (\n                <View style={styles.signOutContainer}>\n                  <Text style={{ fontSize: 18, fontWeight: 'bold' }}>Are you sure you want to sign out?</Text>\n                  <TouchableOpacity onPress={handleSignOut} style={styles.signOutButton}>\n                    <Text style={{ color: 'white', fontWeight: 'bold' }}>Sign Out</Text>\n                  </TouchableOpacity>\n                </View>\n              )}\n              options={{\n                drawerLabel: 'Sign Out',\n              }}\n            />\n          </Drawer.Navigator>\n        ) : (\n          //  Show Login Screen **AFTER** Splash Screen if user is NOT authenticated\n          <AuthScreen />\n        )}\n      </NavigationContainer>\n    </TransactionProvider>\n    <Toast />\n\n    </ThemeProvider>\n  );\n};\n\n//  **Styles**\nconst styles = StyleSheet.create({\n  splashContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#000',\n  },\n  splashImage: {\n    width: '100%',\n    height: '100%',\n    resizeMode: 'cover',\n    position: 'absolute',\n  },\n  logoutButton: {\n    marginRight: 15,\n  },\n  signOutContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  signOutButton: {\n    marginTop: 20,\n    backgroundColor: 'red',\n    padding: 10,\n    borderRadius: 5,\n  },\n});\n\n//  Only ONE export default\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}